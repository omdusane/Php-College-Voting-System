<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

    <link rel="stylesheet" href="../css/register.css">
    <style>
        .formerror {
            color: red;
            font-size: small;
        }
    </style>
</head>
<body>
    <div class="login">
        <h1 class="text-center">College Voting System</h1>
    
        
        <h1 class="text-center">Registration</h1>
        <form name="myform" action="../api/register.php" method="POST" onsubmit="return validateForm()" enctype="multipart/form-data">    
            <div class="formdesign form-group" id="name">
                <label class="form-label" for="name">Name</label>
                <input class="form-control" type="text" name="name" placeholder="Enter Name" required><span class="formerror"></span><br>
            </div>
            <div class="formdesign form-group" id="phone">
            <label class="form-label" for="phone">Contact</label>
            <input class="form-control" class="contact" type="number" name="mobile" placeholder="Enter Mobile No" required><span class="formerror"></span><br>
            </div>
            <div class="form-group">
            <label class="form-label" for="add">Address</label>
            <input class="form-control" type="text" name="address" placeholder="Address" required><br>
            </div>
            <div class="form-group">
            <label class="form-label" for="dob">Birthdate</label>
            <input class="form-control" type="date" name="dob" placeholder="Enter Birthdate" required><br>
            </div>
            <div class="form-group">
            <label class="form-label" for="role">Role</label>
            <select class="form-control" name="role" required>
                <option value="1">Voter</option>
                <option value="2">Candidate</option>
            </select><br>
            </div>
            <div class="form-group">
            <label class="form-label" for="gender">Gender</label>
            <select class="form-control" name="gender" required>
                <option value="1">Male</option>
                <option value="2">Female</option>
                <option value="3">Other</option>
            </select><br>
            </div>
            <div class="form-group">
            <label class="form-label" for="photo">Photo</label>
            <input class="form-control" type="file" name="photo" required><br>
            </div>
            <div class="formdesign form-group" id="password">
            <label class="form-label" for="password">Password</label>
            <input class="form-control" type="password" name="password" placeholder="Password" required><span class="formerror"></span><br>
            </div>
            <div class="formdesign form-group" id="cpassword">
            <label class="form-label" for="cpassword" >Confirm Password</label>
            <input class="form-control" type="password" name="cpassword" placeholder="Confirm password" required><span class="formerror"></span><br>
            </div>
            <button class="btn btn-success w-100" type="submit">Register</button><br>
            <p class="text-center"> Already Registered? <a href="../login.html">Login Here</a></p>
        </form>
    </div>
</body>
</html>

<script>

    function clearErrors(){
        errors = document.getElementsByClassName('formerror');
        for(let item of errors)
        {
            item.innerHTML = "";
        }
    }
    function seterror(id,error){
        element = document.getElementById(id);
        element.getElementsByClassName('formerror')[0].innerHTML = error;
    }

    function validateForm(){
        var returnval = true;
        clearErrors();
        var name = document.forms['myform']['name'].value;
        if(name.length<5){
            seterror("name", "Length of name is too short");
            returnval=false;
        }
        if(name.length==0){
            seterror("name", "Length of name cannot be zero");
            returnval=false;
        }

        var phone = document.forms['myform']['mobile'].value;
        if(phone.length != 10){
            seterror("phone", "Phone Number Should be of 10 digits!");
            returnval=false;
        }

        var password = document.forms['myform']['password'].value;
        if(password.length < 6){
            seterror("password", "Password should be atleast 6 charactes long!");
            returnval=false;
        }

        var cpassword = document.forms['myform']['cpassword'].value;
        if(cpassword != password){
            seterror("cpassword", "Password and Confirm password should match!");
            returnval=false;
        }

        return returnval;
    }

</script>


